<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11.27</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            overflow-x: hidden;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            font-family: 'Arial', sans-serif;
            overflow-y: hidden;
        }

        body.scroll-enabled {
            overflow-y: auto;
        }

        canvas {
            display: block;
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1;
        }

        #bt {
            position: fixed;
            top: 70%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            margin: 0;
            padding: 18px 45px;
            background: linear-gradient(135deg, #ffffff 0%, #e6f7ff 30%, #b3e0ff 70%, #4db8ff 100%);
            color: #0066cc;
            border: none;
            border-radius: 50px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            backdrop-filter: blur(10px);
            box-shadow: 
                0 8px 25px rgba(77, 184, 255, 0.4),
                0 0 40px rgba(179, 224, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            z-index: 1000;
            letter-spacing: 2px;
            text-transform: uppercase;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
        }

        #bt.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        #bt.hide {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0);
            pointer-events: none;
        }

        #bt:hover {
            background: linear-gradient(135deg, #ffffff 0%, #d9f2ff 30%, #99d6ff 70%, #3399ff 100%);
            color: #004d99;
            box-shadow: 
                0 12px 35px rgba(77, 184, 255, 0.8),
                0 0 60px rgba(179, 224, 255, 0.6),
                0 0 100px rgba(128, 212, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.9);
            transform: translate(-50%, -50%) scale(1.1);
        }

        /* å†å²äº‹ä»¶åŒºåŸŸ */
        .history-section {
            position: relative;
            z-index: 2;
            margin-top: 100vh;
            padding: 100px 20px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            min-height: 100vh;
            border-top: 3px solid rgba(77, 184, 255, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 4rem;
            margin-bottom: 80px;
            background: linear-gradient(135deg, #4db8ff, #ffffff, #ff69b4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 50px rgba(77, 184, 255, 0.7);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, #4db8ff, #ff69b4);
            border-radius: 2px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .event-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            border-radius: 25px;
            padding: 35px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            min-height: 220px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .event-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .event-card:hover::before {
            left: 100%;
        }

        .event-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(77, 184, 255, 0.4),
                0 0 80px rgba(77, 184, 255, 0.2);
            border-color: rgba(77, 184, 255, 0.6);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.08) 100%);
        }

        .event-year {
            font-size: 2rem;
            font-weight: bold;
            color: #4db8ff;
            margin-bottom: 25px;
            text-shadow: 0 0 15px rgba(77, 184, 255, 0.7);
            text-align: center;
            position: relative;
        }

        .event-year::after {
            content: 'âœ¨';
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .event-card:hover .event-year::after {
            opacity: 1;
        }

        .event-content {
            font-size: 1.15rem;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.95);
            text-align: center;
            position: relative;
            z-index: 2;
        }

        /* ç‰¹æ®Šäº‹ä»¶å¡ç‰‡ */
        .special-event-card {
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.1) 0%, rgba(255, 182, 193, 0.05) 100%);
            border-radius: 25px;
            padding: 35px;
            backdrop-filter: blur(20px);
            border: 2px dashed rgba(255, 105, 180, 0.4);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .special-event-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff69b4, #ffb6c1, #ff69b4);
            background-size: 200% 100%;
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .special-event-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 
                0 20px 40px rgba(255, 105, 180, 0.5),
                0 0 60px rgba(255, 182, 193, 0.3);
            border-color: rgba(255, 105, 180, 0.7);
            background: linear-gradient(135deg, rgba(255, 105, 180, 0.15) 0%, rgba(255, 182, 193, 0.08) 100%);
        }

        .special-event-year {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff69b4;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
            text-align: center;
        }

        .special-event-prompt {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            font-style: italic;
            transition: all 0.5s ease;
        }

        .special-event-content {
            font-size: 1.3rem;
            line-height: 1.6;
            color: #ff69b4;
            text-align: center;
            font-weight: bold;
            margin-top: 20px;
            opacity: 0;
            transform: translateY(25px) scale(0.9);
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }

        .special-event-content.show {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* æ»šåŠ¨æç¤º */
        .scroll-hint {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            color: #4db8ff;
            font-size: 1.1rem;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 1000;
            text-align: center;
            pointer-events: none;
        }

        .scroll-hint.show {
            opacity: 1;
        }

        .scroll-hint.hide {
            opacity: 0;
        }

        .scroll-arrow {
            display: block;
            width: 25px;
            height: 25px;
            border-right: 3px solid #4db8ff;
            border-bottom: 3px solid #4db8ff;
            transform: rotate(45deg);
            margin: 15px auto;
            animation: bounce 2s infinite;
        }

        /* æ°”çƒæ ·å¼ */
        .balloon {
            position: fixed;
            bottom: -100px;
            width: 45px;
            height: 55px;
            background: var(--balloon-color);
            border-radius: 50%;
            z-index: 9999;
            animation: floatUp 8s ease-in forwards;
            box-shadow: inset -8px -8px 15px rgba(0, 0, 0, 0.3);
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
        }

        .balloon::before {
            content: '';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 35px;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.3));
        }

        @keyframes floatUp {
            0% {
                transform: translateX(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateX(var(--drift)) translateY(-120vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes bounce {
            0%, 100% { transform: rotate(45deg) translateY(0); }
            50% { transform: rotate(45deg) translateY(-15px); }
        }

        /* æ—¶é—´çº¿è£…é¥° */
        .timeline {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 100%;
            background: linear-gradient(to bottom, transparent, #4db8ff, #ff69b4, transparent);
            opacity: 0.3;
        }

        /* é˜²æ­¢åœ¨ç¦æ­¢æ»šåŠ¨æ—¶é€šè¿‡å…¶ä»–æ–¹å¼æ»šåŠ¨ */
        .no-scroll {
            position: fixed;
            width: 100%;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .section-title {
                font-size: 2.5rem;
            }
            
            .events-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .event-card, .special-event-card {
                padding: 25px;
                min-height: 180px;
            }
        }
    </style>
</head>
<body>
    <button id="bt">æ‰“å¼€âœ¨</button>
    <div class="scroll-hint" id="scrollHint">
        ç‚¹å‡»æŒ‰é’®æ‰“å¼€
        <span class="scroll-arrow"></span>
    </div>
    <canvas id="canvas"></canvas>

    <section class="history-section" id="historySection">
        <div class="timeline"></div>
        <div class="container">
            <h2 class="section-title">å†å²ä¸Šçš„ä»Šå¤© Â· 11æœˆ27æ—¥</h2>
            <div class="events-grid" id="eventsGrid">
                <!-- äº‹ä»¶å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
            </div>
        </div>
    </section>

    <!-- éšè—çš„éŸ³é¢‘å…ƒç´  -->
    <audio id="birthdayMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-happy-birthday-balloon-583.mp3" type="audio/mpeg">
    </audio>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const button = document.getElementById('bt');
        const historySection = document.getElementById('historySection');
        const eventsGrid = document.getElementById('eventsGrid');
        const scrollHint = document.getElementById('scrollHint');
        const birthdayMusic = document.getElementById('birthdayMusic');
        const body = document.body;

        // è®¾ç½®canvaså°ºå¯¸ä¸ºçª—å£å¤§å°
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // ç¦æ­¢æ»šåŠ¨çš„å‡½æ•°
        function disableScroll() {
            body.style.overflowY = 'hidden';
            body.classList.add('no-scroll');
            
            document.addEventListener('touchmove', preventDefault, { passive: false });
            document.addEventListener('wheel', preventDefault, { passive: false });
            document.addEventListener('keydown', preventKeyScroll);
        }

        // å…è®¸æ»šåŠ¨çš„å‡½æ•°
        function enableScroll() {
            body.style.overflowY = 'auto';
            body.classList.remove('no-scroll');
            body.classList.add('scroll-enabled');
            
            document.removeEventListener('touchmove', preventDefault);
            document.removeEventListener('wheel', preventDefault);
            document.removeEventListener('keydown', preventKeyScroll);
        }

        function preventDefault(e) {
            e.preventDefault();
        }

        function preventKeyScroll(e) {
            const keys = [32, 33, 34, 35, 36, 37, 38, 39, 40];
            if (keys.includes(e.keyCode)) {
                e.preventDefault();
            }
        }

        disableScroll();

        const historicalEvents = [
            {
                year: "1895å¹´",
                content: "é˜¿å°”å¼—é›·å¾·Â·è¯ºè´å°”ç­¾ç½²é—å˜±ï¼Œè®¾ç«‹è¯ºè´å°”å¥–ï¼Œä¸ºä¸–ç•Œç§‘å­¦ã€æ–‡å­¦ä¸å’Œå¹³äº‹ä¸šåšå‡ºå·¨å¤§è´¡çŒ®"
            },
            {
                year: "1942å¹´",
                content: "æ³•å›½æµ·å†›åœŸä¼¦æ¸¯è‡ªæ²‰äº‹ä»¶ï¼Œå±•ç°äº†æ³•å›½äººæ°‘æŠµæŠ—çº³ç²¹å é¢†çš„åšå®šæ„å¿—"
            },
            {
                year: "1953å¹´",
                content: "å°¤é‡‘Â·å¥¥å°¼å°”è·å¾—è¯ºè´å°”æ–‡å­¦å¥–ï¼Œè¡¨å½°ä»–åœ¨æˆå‰§åˆ›ä½œä¸Šçš„æ°å‡ºæˆå°±"
            },
            {
                year: "1970å¹´",
                content: "æ•™çš‡ä¿ç½—å…­ä¸–è®¿é—®è²å¾‹å®¾ï¼Œæˆä¸ºé¦–ä½è®¿é—®äºšæ´²çš„æ•™çš‡ï¼Œä¿ƒè¿›å®—æ•™æ–‡åŒ–äº¤æµ"
            },
            {
                year: "2001å¹´",
                content: "å“ˆå‹ƒå¤ªç©ºæœ›è¿œé•œå‘ç°å¤ªé˜³ç³»å¤–è¡Œæ˜Ÿå¤§æ°”å±‚ï¼Œå¼€å¯ç³»å¤–è¡Œæ˜Ÿç ”ç©¶æ–°ç¯‡ç« "
            }
        ];

        /**
         * ç²’å­ç±» - ç®¡ç†å•ä¸ªç²’å­çš„å±æ€§å’Œè¡Œä¸º
         */
        class Particle {
            constructor(x, y) {
                this.targetX = x;
                this.targetY = y;
                this.currentX = Math.random() * canvas.width;
                this.currentY = Math.random() * canvas.height;
                this.size = 2;
                this.speed = 0.05;
                this.color = `white`;
                this.alpha = 1;
            }
            
            update() {
                this.currentX += (this.targetX - this.currentX) * this.speed;
                this.currentY += (this.targetY - this.currentY) * this.speed;
                this.alpha *= 0.995;
            }
            
            draw() {
                ctx.beginPath();
                ctx.arc(this.currentX, this.currentY, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
                ctx.fill();
            }
        }

        let particles = [];

        function createTextParticles(text) {
            particles = [];
            
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 100px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(text, canvas.width / 2, canvas.height / 2);
            
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const data = imageData.data;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let y = 0; y < canvas.height; y += 4) {
                for (let x = 0; x < canvas.width; x += 4) {
                    const index = (y * canvas.width + x) * 4;
                    const alpha = data[index + 3];
                    if (alpha > 128) {
                        particles.push(new Particle(x, y));
                    }
                }
            }
        }

        // åˆ›å»ºæ°”çƒ
        function createBalloons() {
            const balloonColors = [
                '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7',
                '#DDA0DD', '#FFA07A', '#98D8C8', '#F7DC6F', '#BB8FCE',
                '#85C1E9', '#F8C471', '#FF9FF3', '#54A0FF', '#00D2D3'
            ];
            
            const balloonCount = 50;
            
            for (let i = 0; i < balloonCount; i++) {
                setTimeout(() => {
                    const balloon = document.createElement('div');
                    balloon.className = 'balloon';
                    
                    const color = balloonColors[Math.floor(Math.random() * balloonColors.length)];
                    balloon.style.setProperty('--balloon-color', color);
                    
                    const left = Math.random() * 100;
                    const drift = (Math.random() - 0.5) * 400;
                    balloon.style.left = left + '%';
                    balloon.style.setProperty('--drift', drift + 'px');
                    
                    const size = 40 + Math.random() * 30;
                    balloon.style.width = size + 'px';
                    balloon.style.height = (size * 1.2) + 'px';
                    
                    const duration = 6 + Math.random() * 6;
                    balloon.style.animationDuration = duration + 's';
                    
                    document.body.appendChild(balloon);
                    
                    setTimeout(() => {
                        if (balloon.parentNode) {
                            balloon.parentNode.removeChild(balloon);
                        }
                    }, duration * 1000);
                    
                }, i * 120);
            }
        }

        // æ’­æ”¾ç”Ÿæ—¥å¿«ä¹éŸ³ä¹
        function playBirthdayMusic() {
            birthdayMusic.volume = 0.25;
            birthdayMusic.play().catch(e => {
                console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’');
            });
        }

        // æ¸²æŸ“å†å²äº‹ä»¶
        function renderHistoricalEvents() {
            eventsGrid.innerHTML = '';
            
            // æ¸²æŸ“æ™®é€šå†å²äº‹ä»¶
            historicalEvents.forEach(event => {
                const eventCard = document.createElement('div');
                eventCard.className = 'event-card';
                eventCard.innerHTML = `
                    <div class="event-year">${event.year}</div>
                    <div class="event-content">${event.content}</div>
                `;
                eventsGrid.appendChild(eventCard);
            });

            // æ·»åŠ ç‰¹æ®Šäº‹ä»¶å¡ç‰‡
            const specialEventCard = document.createElement('div');
            specialEventCard.className = 'special-event-card';
            specialEventCard.innerHTML = `
                <div class="special-event-year">2007å¹´</div>
                <div class="special-event-prompt">ç‚¹å‡»æ­å¼€ âœ¨</div>
                <div class="special-event-content">snowballå‡ºç”Ÿå•¦ï¼ğŸ‚ ç¥ä½ ç”Ÿæ—¥å¿«ä¹å“¦ï½ qwq</div>
            `;
            eventsGrid.appendChild(specialEventCard);

            // æ·»åŠ ç‰¹æ®Šäº‹ä»¶ç‚¹å‡»äº‹ä»¶
            const specialContent = specialEventCard.querySelector('.special-event-content');
            let hasPlayed = false;
            
            specialEventCard.addEventListener('click', () => {
                specialContent.classList.add('show');
                
                const prompt = specialEventCard.querySelector('.special-event-prompt');
                prompt.style.opacity = '0';
                setTimeout(() => {
                    prompt.style.display = 'none';
                }, 500);

                if (!hasPlayed) {
                    createBalloons();
                    playBirthdayMusic();
                    hasPlayed = true;
                    
                    // æ·»åŠ åº†ç¥ç‰¹æ•ˆ
                    createCelebration();
                }
            });
        }

        // åˆ›å»ºåº†ç¥ç‰¹æ•ˆ
        function createCelebration() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.style.position = 'fixed';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.top = '-20px';
                    confetti.style.width = '10px';
                    confetti.style.height = '10px';
                    confetti.style.background = ['#FF6B6B', '#4ECDC4', '#FFEAA7', '#DDA0DD'][Math.floor(Math.random() * 4)];
                    confetti.style.borderRadius = '50%';
                    confetti.style.animation = `fall ${2 + Math.random() * 2}s linear forwards`;
                    confetti.style.zIndex = '9998';
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        if (confetti.parentNode) {
                            confetti.parentNode.removeChild(confetti);
                        }
                    }, 4000);
                }, i * 100);
            }
            
            // æ·»åŠ fallåŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fall {
                    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        }

        // åˆå§‹åŒ–
        createTextParticles('@snowball');
        renderHistoricalEvents();

        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            particles = particles.filter(particle => {
                particle.update();
                particle.draw();
                return particle.alpha > 0.1;
            });
            
            requestAnimationFrame(animate);
        }

        animate();

        // ç‚¹å‡»åˆ‡æ¢æ–‡å­—å¹¶æ˜¾ç¤ºæŒ‰é’®
        canvas.addEventListener('click', () => {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            createTextParticles('Happy Birthday! ğŸ‰');
            
            setTimeout(() => {
                button.classList.add('show');
                scrollHint.classList.add('show');
            }, 100);
        });

        // æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        button.addEventListener('click', () => {
            button.classList.remove('show');
            button.classList.add('hide');
            scrollHint.classList.remove('show');
            scrollHint.classList.add('hide');
            
            enableScroll();
            
            setTimeout(() => {
                historySection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }, 100);
        });

        // çª—å£å¤§å°æ”¹å˜æ—¶é‡æ–°è°ƒæ•´
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            createTextParticles('Happy Birthday! ğŸ‰');
        });

        // é˜²æ­¢åˆå§‹åŠ è½½æ—¶çš„æ»šåŠ¨
        window.addEventListener('load', () => {
            disableScroll();
        });
    </script>
</body>
</html>